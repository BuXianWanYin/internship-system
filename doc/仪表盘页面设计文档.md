# 仪表盘页面设计文档

## 一、设计概述

### 1.1 页面定位
仪表盘作为系统的首页，为不同角色用户提供数据统计可视化展示，替代原有的快捷入口模块。

### 1.2 设计原则
- **数据驱动**：以数据统计图表为核心
- **角色差异化**：不同角色展示不同的数据和图表
- **直观清晰**：使用图表和卡片直观展示关键指标
- **配色柔和**：使用柔和的蓝色系配色方案

### 1.3 页面布局
采用响应式网格布局：
- 顶部：筛选器（时间范围、组织维度等）
- 中间：统计卡片（2-4个，根据角色不同）
- 下方：图表展示区域（根据角色显示2-4个图表）

## 二、角色仪表盘设计

### 2.1 系统管理员仪表盘

#### 布局结构
```
┌─────────────────────────────────────────────────┐
│  筛选器：时间范围 [下拉]  学校 [下拉]           │
├─────────────────────────────────────────────────┤
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │ 总学生 │ │ 进行中 │ │ 已完成 │ │ 合作企业│  │
│  │   500  │ │   320  │ │   150  │ │    25  │  │
│  └────────┘ └────────┘ └────────┘ └────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  实习进度统计    │ │  各学校实习人数  │    │
│  │    (饼图)       │ │    (柱状图)      │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  评价分数分布    │ │  岗位类型分布    │    │
│  │    (柱状图)     │ │    (饼图)       │    │
│  └──────────────────┘ └──────────────────┘    │
└─────────────────────────────────────────────────┘
```

#### 统计卡片
1. **总学生数**：所有已注册学生总数
2. **进行中实习人数**：状态为"实习中"的学生数
3. **已完成实习人数**：状态为"已评价"的学生数
4. **合作企业数量**：所有合作企业总数

#### 图表展示
1. **实习进度统计饼图**
   - 待开始（灰色 #C0C4CC）
   - 进行中（蓝色 #409EFF）
   - 已完成（绿色 #67C23A）

2. **各学校实习人数对比柱状图**
   - X轴：学校名称
   - Y轴：实习人数
   - 颜色：#409EFF

3. **评价分数分布柱状图**
   - X轴：分数等级（优秀、良好、中等、及格、不及格）
   - Y轴：人数
   - 颜色：渐变蓝色系

4. **岗位类型分布饼图**
   - 不同岗位类型的人数分布
   - 颜色：柔和的多色系（#409EFF, #79BBFF, #A0CFFF, #95D475, #F7BA2A）

### 2.2 学校管理员仪表盘

#### 布局结构
```
┌─────────────────────────────────────────────────┐
│  筛选器：时间范围 [下拉]  学院 [下拉]           │
├─────────────────────────────────────────────────┤
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │ 本学校 │ │ 进行中 │ │ 已完成 │ │ 平均分 │  │
│  │ 学生数 │ │   120  │ │    60  │ │  82.5  │  │
│  └────────┘ └────────┘ └────────┘ └────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  实习进度统计    │ │  各学院实习人数  │    │
│  │    (饼图)       │ │    (柱状图)      │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  评价分数分布    │ │  岗位类型分布    │    │
│  │    (柱状图)     │ │    (饼图)       │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────┐  │
│  │       实习时长分布（按月份）             │  │
│  │            (折线图)                      │  │
│  └──────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
```

#### 统计卡片
1. **本学校实习学生数**：本学校所有实习学生总数
2. **进行中实习人数**：状态为"实习中"的学生数
3. **已完成实习人数**：状态为"已评价"的学生数
4. **平均评价分数**：本学校学生综合成绩平均分

#### 图表展示
1. **实习进度统计饼图**（同系统管理员）
2. **各学院实习人数对比柱状图**
   - X轴：学院名称
   - Y轴：实习人数
3. **评价分数分布柱状图**（同系统管理员）
4. **岗位类型分布饼图**（同系统管理员）
5. **实习时长分布折线图**（新增）
   - X轴：月份
   - Y轴：平均实习天数

### 2.3 学院负责人仪表盘

#### 布局结构
类似学校管理员，但数据范围限制在本学院：
- 统计卡片：本院实习学生数、进行中、已完成、平均分
- 图表：实习进度饼图、各专业实习人数柱状图、评价分数分布、岗位类型分布

### 2.4 班主任仪表盘

#### 布局结构
```
┌─────────────────────────────────────────────────┐
│  筛选器：时间范围 [下拉]                        │
├─────────────────────────────────────────────────┤
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │ 本班级 │ │ 进行中 │ │ 已完成 │ │ 平均分 │  │
│  │ 学生数 │ │    8   │ │    5   │ │  85.2  │  │
│  └────────┘ └────────┘ └────────┘ └────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  实习进度统计    │ │  学生评价分数    │    │
│  │    (饼图)       │ │   排行榜(柱状图) │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  评价分数分布    │ │  岗位类型分布    │    │
│  │    (柱状图)     │ │    (饼图)       │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────┐  │
│  │  待批阅提醒：日志 5 篇 | 周报 3 篇       │  │
│  └──────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
```

#### 特色功能
- **学生评价分数排行榜**：显示本班级学生分数排名
- **待批阅提醒**：显示待批阅的日志和周报数量

### 2.5 企业管理员仪表盘

#### 布局结构
```
┌─────────────────────────────────────────────────┐
│  筛选器：时间范围 [下拉]                        │
├─────────────────────────────────────────────────┤
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │ 本企业 │ │ 进行中 │ │ 已完成 │ │ 待评价 │  │
│  │ 学生数 │ │   15   │ │    10  │ │    3   │  │
│  └────────┘ └────────┘ └────────┘ └────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  实习进度统计    │ │  学生评价分数    │    │
│  │    (饼图)       │ │   分布(柱状图)   │    │
│  └──────────────────┘ └──────────────────┘    │
├─────────────────────────────────────────────────┤
│  ┌──────────────────┐ ┌──────────────────┐    │
│  │  岗位类型分布    │ │  实习时长统计    │    │
│  │    (饼图)       │ │    (折线图)      │    │
│  └──────────────────┘ └──────────────────┘    │
└─────────────────────────────────────────────────┘
```

#### 特色功能
- **待评价学生数**：显示需要评价的学生数量
- **实习时长统计**：显示本企业学生实习时长趋势

### 2.6 学生仪表盘

#### 布局结构
```
┌─────────────────────────────────────────────────┐
│  筛选器：无（个人数据）                         │
├─────────────────────────────────────────────────┤
│  ┌────────┐ ┌────────┐ ┌────────┐ ┌────────┐  │
│  │ 实习   │ │ 评价   │ │ 已提交 │ │ 已提交 │  │
│  │ 状态   │ │ 分数   │ │ 日志数 │ │ 周报数 │  │
│  │ 进行中 │ │  85.5  │ │   15   │ │   12   │  │
│  └────────┘ └────────┘ └────────┘ └────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────┐  │
│  │        个人评价分数（雷达图）            │  │
│  │    企业评价 | 学校评价 | 自评            │  │
│  └──────────────────────────────────────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────┐  │
│  │          实习进度时间线                  │  │
│  │   申请 → 录用 → 实习中 → 待评价         │  │
│  └──────────────────────────────────────────┘  │
├─────────────────────────────────────────────────┤
│  ┌──────────────────────────────────────────┐  │
│  │       日志/周报提交情况（柱状图）        │  │
│  │          按周统计提交数量                │  │
│  └──────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
```

#### 特色功能
- **个人评价分数雷达图**：展示企业评价、学校评价、自评三个维度的分数
- **实习进度时间线**：可视化显示实习流程进度
- **日志/周报提交统计**：按周统计提交情况

## 三、配色方案

### 3.1 主题色彩
- **主色调**：#409EFF（柔和蓝色）
- **辅助色**：
  - 浅蓝：#79BBFF
  - 更浅蓝：#A0CFFF
  - 最浅蓝：#C6E2FF
  - 浅绿：#95D475（成功/完成）
  - 浅橙：#F7BA2A（警告/进行中）
  - 浅红：#FF7875（错误/待处理）

### 3.2 图表配色
- **饼图配色**：
  - #409EFF（主色）
  - #79BBFF（浅蓝）
  - #95D475（浅绿）
  - #F7BA2A（浅橙）
  - #FF7875（浅红）
  - #C0C4CC（灰色，用于待开始状态）

- **柱状图配色**：
  - 单色渐变：#409EFF → #79BBFF → #A0CFFF
  - 或多色柔和配色

- **折线图配色**：
  - 主线条：#409EFF
  - 辅助线条：#79BBFF

### 3.3 卡片配色
- **背景**：白色 #FFFFFF
- **边框**：浅灰 #E4E7ED
- **标题**：深灰 #303133
- **数值**：主色调 #409EFF
- **阴影**：rgba(0, 0, 0, 0.04)

## 四、组件设计

### 4.1 统计卡片组件（StatisticsCard）
**属性**：
- `title`: 标题
- `value`: 数值
- `unit`: 单位（可选）
- `icon`: 图标（可选）
- `color`: 卡片主题色（可选）
- `clickable`: 是否可点击（可选）

**样式**：
- 圆角：8px
- 阴影：0 2px 8px rgba(0, 0, 0, 0.04)
- 悬停效果：轻微上浮

### 4.2 图表组件封装
所有图表组件统一封装，接受以下通用属性：
- `title`: 图表标题
- `data`: 图表数据
- `options`: 图表配置（可选）
- `height`: 图表高度（默认300px）

### 4.3 筛选器组件（StatisticsFilter）
**功能**：
- 时间范围选择
- 组织维度选择（根据角色显示）
- 筛选条件重置

**布局**：
- 水平排列
- 右侧重置按钮

## 五、数据刷新机制

### 5.1 数据加载
- 页面加载时自动获取统计数据
- 筛选条件变化时重新加载数据
- 支持手动刷新按钮

### 5.2 缓存策略
- 统计数据缓存5分钟
- 页面切换回来时使用缓存数据
- 缓存过期后自动刷新

## 六、响应式设计

### 6.1 断点设置
- **大屏**（≥1200px）：4列布局
- **中屏**（768px-1199px）：2列布局
- **小屏**（<768px）：1列布局

### 6.2 图表响应式
- 图表宽度自适应容器
- 高度固定（300px-400px）
- 移动端显示简化版本

## 七、技术实现

### 7.1 图表库
- **Apache ECharts**（通过 vue-echarts 集成）
- 版本：最新稳定版

### 7.2 安装依赖
```bash
npm install echarts vue-echarts
```

### 7.3 引入方式
```javascript
import { use } from 'echarts/core'
import { CanvasRenderer } from 'echarts/renderers'
import { PieChart, BarChart, LineChart, RadarChart } from 'echarts/charts'
import { TitleComponent, TooltipComponent, LegendComponent, GridComponent } from 'echarts/components'
import VChart from 'vue-echarts'

use([
  CanvasRenderer,
  PieChart,
  BarChart,
  LineChart,
  RadarChart,
  TitleComponent,
  TooltipComponent,
  LegendComponent,
  GridComponent
])
```

## 八、性能优化

### 8.1 数据加载优化
- 按需加载：只加载当前角色需要的图表数据
- 懒加载：图表组件懒加载
- 数据分页：大数据量时考虑分页

### 8.2 图表渲染优化
- 使用 Canvas 渲染（性能更好）
- 图表数据变化时才重新渲染
- 大数据量时采样显示

### 8.3 缓存优化
- 使用 Vuex/Pinia 缓存统计数据
- 使用 localStorage 缓存用户筛选条件

