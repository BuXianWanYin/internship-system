# 第四阶段：实习过程跟踪模块 - 接口设计文档

## 一、实习计划管理接口

### 1.1 实习计划Controller

**路径**：`/internship/plan`

**权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`

#### 1.1.1 创建实习计划
- **接口**：`POST /internship/plan`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：`InternshipPlan`实体
- **返回结果**：`Result<InternshipPlan>`
- **功能说明**：创建新的实习计划，状态默认为"草稿"

#### 1.1.2 更新实习计划
- **接口**：`PUT /internship/plan`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：`InternshipPlan`实体
- **返回结果**：`Result<InternshipPlan>`
- **功能说明**：更新实习计划信息

#### 1.1.3 分页查询实习计划列表
- **接口**：`GET /internship/plan/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_COLLEGE_LEADER', 'ROLE_CLASS_TEACHER', 'ROLE_STUDENT')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `planName`：计划名称（可选）
  - `semesterId`：学期ID（可选）
  - `schoolId`：学校ID（可选）
  - `collegeId`：学院ID（可选）
  - `majorId`：专业ID（可选）
  - `status`：状态（可选）
- **返回结果**：`Result<Page<InternshipPlan>>`
- **功能说明**：分页查询实习计划列表，根据角色自动过滤数据

#### 1.1.4 查询实习计划详情
- **接口**：`GET /internship/plan/{planId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_COLLEGE_LEADER', 'ROLE_CLASS_TEACHER', 'ROLE_STUDENT')")`
- **请求参数**：`planId`（路径参数）
- **返回结果**：`Result<InternshipPlan>`
- **功能说明**：查询实习计划详情

#### 1.1.5 提交审核
- **接口**：`POST /internship/plan/{planId}/submit`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：`planId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：提交实习计划审核，状态变为"待审核"

#### 1.1.6 审核实习计划
- **接口**：`POST /internship/plan/{planId}/audit`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：
  - `planId`：计划ID（路径参数）
  - `auditStatus`：审核状态（2-已通过，3-已拒绝）
  - `auditOpinion`：审核意见（可选）
- **返回结果**：`Result<?>`
- **功能说明**：审核实习计划，通过或拒绝

#### 1.1.7 发布实习计划
- **接口**：`POST /internship/plan/{planId}/publish`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：`planId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：发布实习计划，状态变为"已发布"

#### 1.1.8 删除实习计划
- **接口**：`DELETE /internship/plan/{planId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：`planId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除实习计划

---

## 二、岗位管理接口

### 2.1 岗位Controller

**路径**：`/internship/post`

**权限**：根据接口不同

#### 2.1.1 发布岗位
- **接口**：`POST /internship/post`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`InternshipPost`实体
- **返回结果**：`Result<InternshipPost>`
- **功能说明**：企业管理员发布实习岗位，状态默认为"待审核"

#### 2.1.2 更新岗位信息
- **接口**：`PUT /internship/post`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`InternshipPost`实体
- **返回结果**：`Result<InternshipPost>`
- **功能说明**：更新岗位信息

#### 2.1.3 分页查询岗位列表（企业端）
- **接口**：`GET /internship/post/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `postName`：岗位名称（可选）
  - `enterpriseId`：企业ID（可选）
  - `status`：状态（可选）
  - `cooperationOnly`：仅显示合作企业岗位（学生端使用，true时只显示合作企业的岗位）
- **返回结果**：`Result<Page<InternshipPost>>`
- **功能说明**：分页查询岗位列表，学生端只显示合作企业的岗位

#### 2.1.4 查询岗位详情
- **接口**：`GET /internship/post/{postId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：`postId`（路径参数）
- **返回结果**：`Result<InternshipPost>`
- **功能说明**：查询岗位详情

#### 2.1.5 审核岗位
- **接口**：`POST /internship/post/{postId}/audit`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN')")`
- **请求参数**：
  - `postId`：岗位ID（路径参数）
  - `auditStatus`：审核状态（1-已通过，2-已拒绝）
  - `auditOpinion`：审核意见（可选）
- **返回结果**：`Result<?>`
- **功能说明**：学校管理员审核岗位

#### 2.1.6 发布岗位
- **接口**：`POST /internship/post/{postId}/publish`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`postId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：发布岗位，状态变为"已发布"

#### 2.1.7 关闭岗位
- **接口**：`POST /internship/post/{postId}/close`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`postId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：关闭岗位，状态变为"已关闭"

#### 2.1.8 删除岗位
- **接口**：`DELETE /internship/post/{postId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`postId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除岗位

#### 2.1.9 查询岗位申请情况
- **接口**：`GET /internship/post/{postId}/applications`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`postId`（路径参数）
- **返回结果**：`Result<List<InternshipApply>>`
- **功能说明**：查询该岗位的所有申请

---

## 三、实习申请管理接口

### 3.1 实习申请Controller

**路径**：`/internship/apply`

**权限**：根据接口不同

#### 3.1.1 提交实习申请（选择合作企业）
- **接口**：`POST /internship/apply/cooperation`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：
  - `enterpriseId`：企业ID（必填）
  - `postId`：岗位ID（可选）
  - `resumeContent`：简历内容（富文本，可选）
  - `resumeAttachment`：简历附件URL（可选）
  - `applyReason`：申请理由（可选）
- **返回结果**：`Result<InternshipApply>`
- **功能说明**：学生提交实习申请（选择合作企业），需要验证企业是否与学校有合作关系

#### 3.1.2 提交实习申请（自主实习）
- **接口**：`POST /internship/apply/self`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：
  - `selfEnterpriseName`：企业名称（必填）
  - `selfEnterpriseAddress`：企业地址（必填）
  - `selfContactPerson`：联系人（必填）
  - `selfContactPhone`：联系电话（必填）
  - `selfEnterpriseNature`：企业性质（可选）
  - `selfPostName`：岗位名称（必填）
  - `selfStartDate`：开始日期（必填）
  - `selfEndDate`：结束日期（必填）
  - `selfDescription`：说明（可选）
- **返回结果**：`Result<InternshipApply>`
- **功能说明**：学生提交自主实习申请，状态为"待审核"

#### 3.1.3 更新实习申请
- **接口**：`PUT /internship/apply`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipApply`实体
- **返回结果**：`Result<InternshipApply>`
- **功能说明**：更新实习申请信息（仅限待审核状态）

#### 3.1.4 分页查询实习申请列表
- **接口**：`GET /internship/apply/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_CLASS_TEACHER', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `enterpriseId`：企业ID（可选）
  - `postId`：岗位ID（可选）
  - `applyType`：申请类型（可选）
  - `status`：状态（可选）
- **返回结果**：`Result<Page<InternshipApply>>`
- **功能说明**：分页查询实习申请列表，根据角色自动过滤数据

#### 3.1.5 查询实习申请详情
- **接口**：`GET /internship/apply/{applyId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_CLASS_TEACHER', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：`applyId`（路径参数）
- **返回结果**：`Result<InternshipApply>`
- **功能说明**：查询实习申请详情

#### 3.1.6 审核实习申请（自主实习）
- **接口**：`POST /internship/apply/{applyId}/audit`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_SYSTEM_ADMIN', 'ROLE_SCHOOL_ADMIN', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `applyId`：申请ID（路径参数）
  - `auditStatus`：审核状态（1-已通过，2-已拒绝）
  - `auditOpinion`：审核意见（可选）
- **返回结果**：`Result<?>`
- **功能说明**：班主任或学校管理员审核自主实习申请

#### 3.1.7 企业筛选操作
- **接口**：`POST /internship/apply/{applyId}/filter`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：
  - `applyId`：申请ID（路径参数）
  - `action`：操作类型（1-标记感兴趣，2-安排面试，3-录用，4-拒绝）
  - `comment`：备注（可选）
- **返回结果**：`Result<?>`
- **功能说明**：企业对申请进行筛选操作

#### 3.1.8 取消申请
- **接口**：`POST /internship/apply/{applyId}/cancel`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`applyId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：学生取消申请（仅限待审核状态）

#### 3.1.9 删除申请
- **接口**：`DELETE /internship/apply/{applyId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`applyId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除申请

---

## 四、面试管理接口

### 4.1 面试Controller

**路径**：`/internship/interview`

**权限**：根据接口不同

#### 4.1.1 安排面试
- **接口**：`POST /internship/interview`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`Interview`实体
- **返回结果**：`Result<Interview>`
- **功能说明**：企业管理员安排面试

#### 4.1.2 更新面试信息
- **接口**：`PUT /internship/interview`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`Interview`实体
- **返回结果**：`Result<Interview>`
- **功能说明**：更新面试信息

#### 4.1.3 分页查询面试列表
- **接口**：`GET /internship/interview/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `applyId`：申请ID（可选）
  - `enterpriseId`：企业ID（可选）
  - `studentId`：学生ID（可选）
  - `status`：状态（可选）
- **返回结果**：`Result<Page<Interview>>`
- **功能说明**：分页查询面试列表

#### 4.1.4 查询面试详情
- **接口**：`GET /internship/interview/{interviewId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_ENTERPRISE_ADMIN', 'ROLE_STUDENT')")`
- **请求参数**：`interviewId`（路径参数）
- **返回结果**：`Result<Interview>`
- **功能说明**：查询面试详情

#### 4.1.5 学生确认面试
- **接口**：`POST /internship/interview/{interviewId}/confirm`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：
  - `interviewId`：面试ID（路径参数）
  - `confirm`：确认（1-已确认，2-已拒绝）
- **返回结果**：`Result<?>`
- **功能说明**：学生确认或拒绝面试安排

#### 4.1.6 提交面试结果
- **接口**：`POST /internship/interview/{interviewId}/result`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：
  - `interviewId`：面试ID（路径参数）
  - `interviewResult`：面试结果（1-通过，2-不通过，3-待定）
  - `interviewComment`：面试评价（可选）
- **返回结果**：`Result<?>`
- **功能说明**：企业提交面试结果

#### 4.1.7 取消面试
- **接口**：`POST /internship/interview/{interviewId}/cancel`
- **权限**：`@PreAuthorize("hasRole('ROLE_ENTERPRISE_ADMIN')")`
- **请求参数**：`interviewId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：取消面试

---

## 五、实习日志接口

### 5.1 实习日志Controller

**路径**：`/internship/log`

**权限**：根据接口不同

#### 5.1.1 提交实习日志
- **接口**：`POST /internship/log`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipLog`实体
- **返回结果**：`Result<InternshipLog>`
- **功能说明**：学生提交实习日志

#### 5.1.2 更新实习日志
- **接口**：`PUT /internship/log`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipLog`实体
- **返回结果**：`Result<InternshipLog>`
- **功能说明**：更新实习日志（仅限未批阅状态）

#### 5.1.3 分页查询实习日志列表
- **接口**：`GET /internship/log/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `applyId`：申请ID（可选）
  - `logDate`：日志日期（可选）
  - `reviewStatus`：批阅状态（可选）
- **返回结果**：`Result<Page<InternshipLog>>`
- **功能说明**：分页查询实习日志列表

#### 5.1.4 查询实习日志详情
- **接口**：`GET /internship/log/{logId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：`logId`（路径参数）
- **返回结果**：`Result<InternshipLog>`
- **功能说明**：查询实习日志详情

#### 5.1.5 批阅实习日志
- **接口**：`POST /internship/log/{logId}/review`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `logId`：日志ID（路径参数）
  - `reviewComment`：批阅意见（可选）
  - `reviewScore`：批阅评分（可选，0-100）
- **返回结果**：`Result<?>`
- **功能说明**：指导教师批阅实习日志

#### 5.1.6 删除实习日志
- **接口**：`DELETE /internship/log/{logId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`logId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除实习日志

---

## 六、周报接口

### 6.1 周报Controller

**路径**：`/internship/weekly-report`

**权限**：根据接口不同

#### 6.1.1 提交周报
- **接口**：`POST /internship/weekly-report`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipWeeklyReport`实体
- **返回结果**：`Result<InternshipWeeklyReport>`
- **功能说明**：学生提交周报

#### 6.1.2 更新周报
- **接口**：`PUT /internship/weekly-report`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipWeeklyReport`实体
- **返回结果**：`Result<InternshipWeeklyReport>`
- **功能说明**：更新周报（仅限未批阅状态）

#### 6.1.3 分页查询周报列表
- **接口**：`GET /internship/weekly-report/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `applyId`：申请ID（可选）
  - `weekNumber`：周次（可选）
  - `reviewStatus`：批阅状态（可选）
- **返回结果**：`Result<Page<InternshipWeeklyReport>>`
- **功能说明**：分页查询周报列表

#### 6.1.4 查询周报详情
- **接口**：`GET /internship/weekly-report/{reportId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：`reportId`（路径参数）
- **返回结果**：`Result<InternshipWeeklyReport>`
- **功能说明**：查询周报详情

#### 6.1.5 批阅周报
- **接口**：`POST /internship/weekly-report/{reportId}/review`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `reportId`：周报ID（路径参数）
  - `reviewComment`：批阅意见（可选）
  - `reviewScore`：批阅评分（可选，0-100）
- **返回结果**：`Result<?>`
- **功能说明**：指导教师批阅周报

#### 6.1.6 删除周报
- **接口**：`DELETE /internship/weekly-report/{reportId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`reportId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除周报

---

## 七、考勤接口

### 7.1 考勤Controller

**路径**：`/internship/attendance`

**权限**：根据接口不同

#### 7.1.1 确认考勤
- **接口**：`POST /internship/attendance`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_ENTERPRISE_ADMIN', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：`Attendance`实体
- **返回结果**：`Result<Attendance>`
- **功能说明**：企业导师或企业管理员确认学生考勤

#### 7.1.2 批量确认考勤
- **接口**：`POST /internship/attendance/batch`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_ENTERPRISE_ADMIN', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：
  - `attendanceList`：考勤列表（数组）
- **返回结果**：`Result<?>`
- **功能说明**：批量确认考勤

#### 7.1.3 更新考勤
- **接口**：`PUT /internship/attendance`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_ENTERPRISE_ADMIN', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：`Attendance`实体
- **返回结果**：`Result<Attendance>`
- **功能说明**：更新考勤信息

#### 7.1.4 分页查询考勤列表
- **接口**：`GET /internship/attendance/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_ENTERPRISE_MENTOR', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `applyId`：申请ID（可选）
  - `attendanceDate`：考勤日期（可选）
  - `attendanceType`：考勤类型（可选）
  - `confirmStatus`：确认状态（可选）
- **返回结果**：`Result<Page<Attendance>>`
- **功能说明**：分页查询考勤列表

#### 7.1.5 查询考勤详情
- **接口**：`GET /internship/attendance/{attendanceId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_ENTERPRISE_ADMIN', 'ROLE_ENTERPRISE_MENTOR', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：`attendanceId`（路径参数）
- **返回结果**：`Result<Attendance>`
- **功能说明**：查询考勤详情

#### 7.1.6 考勤统计
- **接口**：`GET /internship/attendance/statistics`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `studentId`：学生ID（可选，学生端必填）
  - `applyId`：申请ID（可选）
  - `startDate`：开始日期（可选）
  - `endDate`：结束日期（可选）
- **返回结果**：`Result<AttendanceStatistics>`
- **功能说明**：查询考勤统计信息（出勤率、请假次数等）

---

## 八、阶段性成果接口

### 8.1 阶段性成果Controller

**路径**：`/internship/achievement`

**权限**：根据接口不同

#### 8.1.1 提交阶段性成果
- **接口**：`POST /internship/achievement`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipAchievement`实体
- **返回结果**：`Result<InternshipAchievement>`
- **功能说明**：学生提交阶段性成果

#### 8.1.2 更新阶段性成果
- **接口**：`PUT /internship/achievement`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipAchievement`实体
- **返回结果**：`Result<InternshipAchievement>`
- **功能说明**：更新阶段性成果（仅限待审核状态）

#### 8.1.3 分页查询阶段性成果列表
- **接口**：`GET /internship/achievement/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `applyId`：申请ID（可选）
  - `achievementType`：成果类型（可选）
  - `reviewStatus`：审核状态（可选）
- **返回结果**：`Result<Page<InternshipAchievement>>`
- **功能说明**：分页查询阶段性成果列表

#### 8.1.4 查询阶段性成果详情
- **接口**：`GET /internship/achievement/{achievementId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：`achievementId`（路径参数）
- **返回结果**：`Result<InternshipAchievement>`
- **功能说明**：查询阶段性成果详情

#### 8.1.5 审核阶段性成果
- **接口**：`POST /internship/achievement/{achievementId}/review`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `achievementId`：成果ID（路径参数）
  - `reviewStatus`：审核状态（1-已通过，2-已拒绝）
  - `reviewComment`：审核意见（可选）
- **返回结果**：`Result<?>`
- **功能说明**：指导教师审核阶段性成果

#### 8.1.6 删除阶段性成果
- **接口**：`DELETE /internship/achievement/{achievementId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`achievementId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除阶段性成果

---

## 九、问题反馈接口

### 9.1 问题反馈Controller

**路径**：`/internship/feedback`

**权限**：根据接口不同

#### 9.1.1 提交问题反馈
- **接口**：`POST /internship/feedback`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipFeedback`实体
- **返回结果**：`Result<InternshipFeedback>`
- **功能说明**：学生提交问题反馈

#### 9.1.2 更新问题反馈
- **接口**：`PUT /internship/feedback`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`InternshipFeedback`实体
- **返回结果**：`Result<InternshipFeedback>`
- **功能说明**：更新问题反馈（仅限待处理状态）

#### 9.1.3 分页查询问题反馈列表
- **接口**：`GET /internship/feedback/page`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_ENTERPRISE_MENTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：
  - `current`：页码
  - `size`：每页数量
  - `studentId`：学生ID（可选）
  - `applyId`：申请ID（可选）
  - `feedbackType`：反馈类型（可选）
  - `feedbackStatus`：反馈状态（可选）
- **返回结果**：`Result<Page<InternshipFeedback>>`
- **功能说明**：分页查询问题反馈列表

#### 9.1.4 查询问题反馈详情
- **接口**：`GET /internship/feedback/{feedbackId}`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_ENTERPRISE_MENTOR', 'ROLE_CLASS_TEACHER')")`
- **请求参数**：`feedbackId`（路径参数）
- **返回结果**：`Result<InternshipFeedback>`
- **功能说明**：查询问题反馈详情

#### 9.1.5 回复问题反馈
- **接口**：`POST /internship/feedback/{feedbackId}/reply`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_INSTRUCTOR', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：
  - `feedbackId`：反馈ID（路径参数）
  - `replyContent`：回复内容（必填）
- **返回结果**：`Result<?>`
- **功能说明**：教师或导师回复问题反馈

#### 9.1.6 标记问题已解决
- **接口**：`POST /internship/feedback/{feedbackId}/solve`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：`feedbackId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：标记问题已解决

#### 9.1.7 关闭问题反馈
- **接口**：`POST /internship/feedback/{feedbackId}/close`
- **权限**：`@PreAuthorize("hasAnyRole('ROLE_STUDENT', 'ROLE_INSTRUCTOR', 'ROLE_ENTERPRISE_MENTOR')")`
- **请求参数**：`feedbackId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：关闭问题反馈

#### 9.1.8 删除问题反馈
- **接口**：`DELETE /internship/feedback/{feedbackId}`
- **权限**：`@PreAuthorize("hasRole('ROLE_STUDENT')")`
- **请求参数**：`feedbackId`（路径参数）
- **返回结果**：`Result<?>`
- **功能说明**：软删除问题反馈

---

## 十、接口设计规范

### 10.1 统一响应格式
所有接口返回统一使用`Result`封装：
```json
{
  "code": 200,
  "message": "操作成功",
  "data": {},
  "timestamp": "2024-01-01T12:00:00"
}
```

### 10.2 分页响应格式
分页接口返回`Page`对象：
```json
{
  "code": 200,
  "message": "查询成功",
  "data": {
    "records": [],
    "total": 100,
    "size": 10,
    "current": 1,
    "pages": 10
  }
}
```

### 10.3 错误响应格式
错误时返回：
```json
{
  "code": 400,
  "message": "错误信息",
  "data": null,
  "timestamp": "2024-01-01T12:00:00"
}
```

### 10.4 数据权限过滤
所有查询接口在Service层实现数据权限过滤：
- 系统管理员：无限制
- 学校管理员：只能查看本校数据
- 学院负责人：只能查看本院数据
- 班主任：只能查看本班学生数据
- 指导教师：只能查看分配的学生数据
- 企业管理员：只能查看本企业数据
- 企业导师：只能查看本企业实习生数据
- 学生：只能查看个人数据

### 10.5 参数校验
- 所有必填参数必须进行校验
- 使用`@Valid`注解进行参数校验
- 校验失败返回400错误码

### 10.6 业务逻辑验证
- 申请岗位前验证企业是否与学校有合作关系
- 申请岗位前验证岗位状态是否为"已发布"
- 提交日志/周报前验证是否有有效的实习申请
- 批阅前验证是否有权限批阅该学生

---

## 十一、接口开发顺序建议

1. **第一阶段**：实习计划管理接口
2. **第二阶段**：岗位管理接口
3. **第三阶段**：实习申请管理接口
4. **第四阶段**：面试管理接口
5. **第五阶段**：实习日志接口
6. **第六阶段**：周报接口
7. **第七阶段**：考勤接口
8. **第八阶段**：阶段性成果接口
9. **第九阶段**：问题反馈接口

