# 实习岗位模块操作说明

## 模块概述

实习岗位模块用于管理企业的实习岗位信息，包括岗位的创建、审核、发布等流程。岗位是学生申请实习的基础。

## 一、实习岗位状态说明

| 状态码 | 状态名称 | 说明 |
|--------|---------|------|
| 0 | 草稿 | 岗位正在编辑中，未提交审核 |
| 1 | 待审核 | 岗位已提交，等待审核 |
| 2 | 已通过 | 岗位审核通过，但未发布 |
| 3 | 已拒绝 | 岗位审核被拒绝 |
| 4 | 已发布 | 岗位已发布，学生可以申请 |
| 5 | 已下架 | 岗位已下架，不再接受申请 |

## 二、操作流程

### 2.1 创建实习岗位

#### 步骤1：创建草稿
- **操作角色**：企业管理员
- **操作说明**：
  1. 进入实习岗位管理页面
  2. 点击"新建岗位"
  3. 填写岗位信息：
     - 岗位名称
     - 所属实习计划
     - 岗位类型
     - 岗位描述
     - 岗位要求
     - 招聘人数
     - 工作地点
     - 薪资待遇
     - 实习开始时间
     - 实习结束时间
     - 其他相关信息
  4. 保存为草稿
- **状态**：`草稿 (0)`

#### 步骤2：提交审核
- **操作角色**：企业管理员
- **操作接口**：`POST /internship/post/{postId}/submit`
- **前置条件**：
  - 岗位状态为"草稿"
  - 岗位信息完整
- **操作说明**：
  1. 确认岗位信息无误
  2. 提交审核
  3. 状态变为"待审核"
- **状态流转**：`草稿 (0)` → `待审核 (1)`

#### 步骤3：审核岗位
- **操作角色**：系统管理员、学校管理员
- **操作接口**：`POST /internship/post/{postId}/audit`
- **前置条件**：
  - 岗位状态为"待审核"
  - 审核人员有相应权限
- **操作说明**：
  1. 审核人员查看岗位详情
  2. 审核岗位信息是否合理
  3. 选择审核结果：
     - **通过**：状态变为 `已通过 (2)`
     - **拒绝**：状态变为 `已拒绝 (3)`，需要填写拒绝原因
  4. 填写审核意见
- **状态流转**：
  - 通过：`待审核 (1)` → `已通过 (2)`
  - 拒绝：`待审核 (1)` → `已拒绝 (3)`

#### 步骤4：发布岗位
- **操作角色**：系统管理员、学校管理员
- **操作接口**：`POST /internship/post/{postId}/publish`
- **前置条件**：
  - 岗位状态为"已通过"
  - 关联的实习计划已发布
- **操作说明**：
  1. 确认岗位信息
  2. 发布岗位
  3. 状态变为"已发布"
  4. 学生可以查看并申请该岗位
- **状态流转**：`已通过 (2)` → `已发布 (4)`

### 2.2 修改岗位

- **操作角色**：企业管理员
- **前置条件**：
  - 岗位状态为"草稿"或"已拒绝"
- **操作说明**：
  1. 编辑岗位信息
  2. 保存修改
  3. 如果状态为"已拒绝"，修改后可以重新提交审核

### 2.3 下架岗位

- **操作角色**：企业管理员、系统管理员、学校管理员
- **操作接口**：`POST /internship/post/{postId}/offline`
- **前置条件**：
  - 岗位状态为"已发布"
- **操作说明**：
  1. 确认下架原因
  2. 执行下架操作
  3. 状态变为"已下架"
  4. 学生不能再申请该岗位，但已申请的记录保留
- **状态流转**：`已发布 (4)` → `已下架 (5)`

### 2.4 删除岗位

- **操作角色**：企业管理员、系统管理员、学校管理员
- **前置条件**：
  - 岗位状态为"草稿"或"已拒绝"
  - 岗位未被使用（没有关联的申请）
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 三、权限说明

### 4.1 企业管理员
- 创建、编辑、删除本企业的岗位
- 提交岗位审核
- 下架本企业的岗位
- 查看本企业的岗位列表

### 4.2 系统管理员
- 审核所有岗位
- 发布所有岗位
- 下架所有岗位
- 查看所有岗位

### 4.3 学校管理员
- 审核所有岗位
- 发布所有岗位
- 下架所有岗位
- 查看所有岗位

### 4.4 学生
- 查看已发布的岗位
- 申请岗位

## 四、API接口列表

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/internship/post` | POST | 创建实习岗位 | 企业管理员 |
| `/internship/post` | PUT | 更新实习岗位 | 企业管理员 |
| `/internship/post/{postId}` | GET | 查询岗位详情 | 多角色 |
| `/internship/post/page` | GET | 分页查询岗位列表 | 多角色 |
| `/internship/post/{postId}` | DELETE | 删除岗位 | 企业管理员/系统管理员/学校管理员 |
| `/internship/post/{postId}/submit` | POST | 提交审核 | 企业管理员 |
| `/internship/post/{postId}/audit` | POST | 审核岗位 | 系统管理员/学校管理员 |
| `/internship/post/{postId}/publish` | POST | 发布岗位 | 系统管理员/学校管理员 |
| `/internship/post/{postId}/offline` | POST | 下架岗位 | 企业管理员/系统管理员/学校管理员 |

## 五、常见问题

### Q1: 已发布的岗位可以修改吗？
A: 已发布的岗位一般不能修改，如需修改需要先下架，修改后重新审核发布。

### Q2: 岗位审核被拒绝后怎么办？
A: 可以修改岗位内容，然后重新提交审核。

### Q3: 岗位可以删除吗？
A: 只有草稿状态或已拒绝状态的岗位可以删除，且不能有关联的申请记录。

### Q4: 学生可以看到哪些岗位？
A: 学生只能看到已发布的岗位，且只能看到关联的实习计划已发布的岗位。

### Q5: 岗位下架后已申请的记录会怎样？
A: 岗位下架后，学生不能再申请，但已申请的记录会保留，可以继续走审核流程。

### Q6: 岗位招聘人数已满后还能申请吗？
A: 需要根据系统配置确定，一般招聘人数已满后不能再申请。

## 六、注意事项

1. **关联计划**：岗位必须关联一个已发布的实习计划。
2. **时间设置**：实习开始时间和结束时间要合理，不能早于当前时间。
3. **审核流程**：岗位必须经过审核才能发布。
4. **数据权限**：企业管理员只能操作本企业的岗位。
5. **关联数据**：删除岗位前需确认没有关联的申请记录。
6. **招聘人数**：设置合理的招聘人数，避免超员。

