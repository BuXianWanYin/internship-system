# 合作管理模块操作说明

## 模块概述

合作管理模块用于管理学校与企业的合作关系，包括校企合作申请的提交、审核、合作关系的建立和维护等。

## 一、校企合作申请流程

### 1.1 企业提交合作申请

- **操作角色**：企业管理员
- **操作说明**：
  1. 进入合作申请页面
  2. 点击"新建申请"
  3. 填写申请信息：
     - 企业基本信息
     - 合作意向
     - 合作内容
     - 合作方式
     - 预期合作规模
     - 其他相关信息
  4. 提交申请
- **状态**：待审核

### 1.2 学校审核合作申请

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 查看待审核的合作申请
  2. 审核企业资质和合作内容
  3. 选择审核结果：
     - **通过**：建立合作关系，状态变为"已通过"
     - **拒绝**：拒绝申请，状态变为"已拒绝"
  4. 填写审核意见
- **状态流转**：
  - 通过：`待审核` → `已通过`
  - 拒绝：`待审核` → `已拒绝`

### 1.3 建立合作关系

- **操作角色**：系统管理员、学校管理员
- **前置条件**：
  - 合作申请已通过审核
- **操作说明**：
  1. 确认合作信息
  2. 建立合作关系
  3. 企业可以发布实习岗位
  4. 学生可以申请该企业的岗位

## 二、合作关系管理

### 2.1 查看合作关系

- **操作角色**：系统管理员、学校管理员、企业管理员
- **操作说明**：
  1. 进入合作关系列表页面
  2. 查看合作关系详情：
     - 企业信息
     - 合作开始时间
     - 合作状态
     - 合作内容
     - 合作成果

### 2.2 更新合作关系

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 选择要更新的合作关系
  2. 更新合作信息
  3. 保存更新

### 2.3 终止合作关系

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 选择要终止的合作关系
  2. 填写终止原因
  3. 确认终止
  4. 状态变为"已终止"
  5. 企业不能再发布新岗位，但已有岗位和申请继续有效

## 三、合作状态说明

| 状态码 | 状态名称 | 说明 |
|--------|---------|------|
| 0 | 待审核 | 合作申请已提交，等待审核 |
| 1 | 已通过 | 合作申请已通过，合作关系已建立 |
| 2 | 已拒绝 | 合作申请被拒绝 |
| 3 | 已终止 | 合作关系已终止 |

## 四、权限说明

### 4.1 企业管理员
- 提交合作申请
- 查看本企业的合作申请状态
- 查看本企业的合作关系信息

### 4.2 系统管理员
- 审核所有合作申请
- 建立、更新、终止所有合作关系
- 查看所有合作关系

### 4.3 学校管理员
- 审核所有合作申请
- 建立、更新、终止所有合作关系
- 查看所有合作关系

## 五、API接口列表

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/cooperation/apply` | POST | 提交合作申请 | 企业管理员 |
| `/cooperation/apply/{applyId}` | GET | 查询申请详情 | 多角色 |
| `/cooperation/apply/page` | GET | 分页查询申请列表 | 多角色 |
| `/cooperation/apply/{applyId}/audit` | POST | 审核申请 | 系统管理员/学校管理员 |
| `/cooperation` | POST | 建立合作关系 | 系统管理员/学校管理员 |
| `/cooperation` | PUT | 更新合作关系 | 系统管理员/学校管理员 |
| `/cooperation/{cooperationId}` | GET | 查询合作关系详情 | 多角色 |
| `/cooperation/page` | GET | 分页查询合作关系列表 | 多角色 |
| `/cooperation/{cooperationId}/terminate` | POST | 终止合作关系 | 系统管理员/学校管理员 |

## 六、常见问题

### Q1: 企业可以多次提交合作申请吗？
A: 可以，但如果之前的申请被拒绝，需要等待一定时间后才能重新提交。

### Q2: 合作关系终止后，已发布的岗位会怎样？
A: 合作关系终止后，企业不能再发布新岗位，但已有岗位和申请继续有效，直到实习结束。

### Q3: 合作申请审核需要多长时间？
A: 一般应在收到申请后7个工作日内完成审核，具体时间由学校规定。

### Q4: 可以修改合作申请吗？
A: 在审核前可以修改，审核后不能修改。

### Q5: 合作关系可以续签吗？
A: 可以，通过更新合作关系信息实现续签。

## 七、注意事项

1. **申请信息完整性**：合作申请信息要填写完整，包括企业资质、合作意向等。
2. **审核及时性**：合作申请应及时审核，避免影响企业发布岗位。
3. **合作关系维护**：建立合作关系后，应定期维护和更新合作信息。
4. **数据权限**：不同角色只能操作权限范围内的数据。
5. **终止处理**：终止合作关系时，要妥善处理已发布的岗位和申请。

