# 系统管理模块操作说明

## 模块概述

系统管理模块用于管理系统的基础数据和配置，包括学校、学院、专业、班级、学期等基础信息的管理，以及系统配置的管理。

## 一、学校管理

### 1.1 添加学校

- **操作角色**：系统管理员
- **操作说明**：
  1. 进入学校管理页面
  2. 点击"新建学校"
  3. 填写学校信息：
     - 学校名称
     - 学校代码
     - 学校地址
     - 联系方式
     - 其他信息
  4. 保存

### 1.2 更新学校信息

- **操作角色**：系统管理员
- **操作说明**：
  1. 找到要更新的学校
  2. 修改学校信息
  3. 保存更新

### 1.3 删除学校

- **操作角色**：系统管理员
- **前置条件**：
  - 学校下没有学院、专业、班级等数据
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 二、学院管理

### 2.1 添加学院

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 进入学院管理页面
  2. 点击"新建学院"
  3. 填写学院信息：
     - 学院名称
     - 学院代码
     - 所属学校
     - 学院负责人
     - 联系方式
     - 其他信息
  4. 保存

### 2.2 更新学院信息

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 找到要更新的学院
  2. 修改学院信息
  3. 保存更新

### 2.3 删除学院

- **操作角色**：系统管理员、学校管理员
- **前置条件**：
  - 学院下没有专业、班级等数据
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 三、专业管理

### 3.1 添加专业

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 进入专业管理页面
  2. 点击"新建专业"
  3. 填写专业信息：
     - 专业名称
     - 专业代码
     - 所属学院
     - 专业负责人
     - 联系方式
     - 其他信息
  4. 保存

### 3.2 更新专业信息

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 找到要更新的专业
  2. 修改专业信息
  3. 保存更新

### 3.3 删除专业

- **操作角色**：系统管理员、学校管理员
- **前置条件**：
  - 专业下没有班级等数据
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 四、班级管理

### 4.1 添加班级

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 进入班级管理页面
  2. 点击"新建班级"
  3. 填写班级信息：
     - 班级名称
     - 班级代码
     - 所属专业
     - 所属学院
     - 班主任
     - 入学年份
     - 其他信息
  4. 保存

### 4.2 更新班级信息

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 找到要更新的班级
  2. 修改班级信息
  3. 保存更新

### 4.3 删除班级

- **操作角色**：系统管理员、学校管理员
- **前置条件**：
  - 班级下没有学生
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 五、学期管理

### 5.1 添加学期

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 进入学期管理页面
  2. 点击"新建学期"
  3. 填写学期信息：
     - 学期名称（如：2024-2025学年第一学期）
     - 学期代码
     - 开始时间
     - 结束时间
     - 是否当前学期
  4. 保存

### 5.2 更新学期信息

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 找到要更新的学期
  2. 修改学期信息
  3. 保存更新

### 5.3 设置当前学期

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 选择要设置为当前学期的学期
  2. 点击"设为当前学期"
  3. 系统会自动将其他学期设置为非当前学期

### 5.4 删除学期

- **操作角色**：系统管理员、学校管理员
- **前置条件**：
  - 学期下没有关联的实习计划、申请等数据
- **操作说明**：
  1. 确认删除
  2. 执行删除操作（软删除）

## 六、系统配置管理

### 6.1 查看系统配置

- **操作角色**：系统管理员、学校管理员
- **操作说明**：
  1. 进入系统配置页面
  2. 查看系统配置项：
     - 评价权重配置
     - 考勤规则配置
     - 文件上传配置
     - 其他系统参数

### 6.2 更新系统配置

- **操作角色**：系统管理员
- **操作说明**：
  1. 找到要更新的配置项
  2. 修改配置值
  3. 保存更新
  4. 系统会自动应用新配置

### 6.3 评价权重配置

- **操作角色**：系统管理员
- **操作说明**：
  1. 进入评价权重配置页面
  2. 设置各项评价的权重：
     - 自我评价权重（默认30%）
     - 企业评价权重（默认50%）
     - 学校评价权重（默认20%）
  3. 保存配置
  4. 权重总和应为100%

### 6.4 考勤规则配置

- **操作角色**：系统管理员
- **操作说明**：
  1. 进入考勤规则配置页面
  2. 设置考勤规则：
     - 迟到时间阈值
     - 早退时间阈值
     - 缺勤判定规则
     - 其他考勤规则
  3. 保存配置

## 七、数据权限说明

### 7.1 系统管理员
- 管理所有学校、学院、专业、班级
- 管理系统配置
- 查看所有数据

### 7.2 学校管理员
- 管理本学校的学院、专业、班级
- 查看本学校的数据
- 部分系统配置权限

### 7.3 学院领导
- 查看本学院的学院、专业、班级信息
- 管理本学院的数据

### 7.4 班主任
- 查看本班级的班级信息
- 管理本班级的数据

## 八、API接口列表

### 8.1 学校接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/school` | POST | 添加学校 | 系统管理员 |
| `/system/school` | PUT | 更新学校 | 系统管理员 |
| `/system/school/{schoolId}` | GET | 查询学校详情 | 多角色 |
| `/system/school/page` | GET | 分页查询学校列表 | 多角色 |
| `/system/school/{schoolId}` | DELETE | 删除学校 | 系统管理员 |

### 8.2 学院接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/college` | POST | 添加学院 | 系统管理员/学校管理员 |
| `/system/college` | PUT | 更新学院 | 系统管理员/学校管理员 |
| `/system/college/{collegeId}` | GET | 查询学院详情 | 多角色 |
| `/system/college/page` | GET | 分页查询学院列表 | 多角色 |
| `/system/college/{collegeId}` | DELETE | 删除学院 | 系统管理员/学校管理员 |

### 8.3 专业接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/major` | POST | 添加专业 | 系统管理员/学校管理员 |
| `/system/major` | PUT | 更新专业 | 系统管理员/学校管理员 |
| `/system/major/{majorId}` | GET | 查询专业详情 | 多角色 |
| `/system/major/page` | GET | 分页查询专业列表 | 多角色 |
| `/system/major/{majorId}` | DELETE | 删除专业 | 系统管理员/学校管理员 |

### 8.4 班级接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/class` | POST | 添加班级 | 系统管理员/学校管理员 |
| `/system/class` | PUT | 更新班级 | 系统管理员/学校管理员 |
| `/system/class/{classId}` | GET | 查询班级详情 | 多角色 |
| `/system/class/page` | GET | 分页查询班级列表 | 多角色 |
| `/system/class/{classId}` | DELETE | 删除班级 | 系统管理员/学校管理员 |

### 8.5 学期接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/semester` | POST | 添加学期 | 系统管理员/学校管理员 |
| `/system/semester` | PUT | 更新学期 | 系统管理员/学校管理员 |
| `/system/semester/{semesterId}` | GET | 查询学期详情 | 多角色 |
| `/system/semester/page` | GET | 分页查询学期列表 | 多角色 |
| `/system/semester/{semesterId}/set-current` | POST | 设置当前学期 | 系统管理员/学校管理员 |
| `/system/semester/{semesterId}` | DELETE | 删除学期 | 系统管理员/学校管理员 |

### 8.6 系统配置接口

| 接口 | 方法 | 说明 | 权限 |
|------|------|------|------|
| `/system/config` | GET | 查询系统配置 | 系统管理员/学校管理员 |
| `/system/config` | PUT | 更新系统配置 | 系统管理员 |
| `/system/config/evaluation-weight` | PUT | 更新评价权重 | 系统管理员 |
| `/system/config/attendance-rule` | PUT | 更新考勤规则 | 系统管理员 |

## 九、常见问题

### Q1: 可以删除有数据的学校/学院/专业/班级吗？
A: 不能，删除前需要先删除或转移下级数据。

### Q2: 学期可以设置多个当前学期吗？
A: 不能，系统只能有一个当前学期。

### Q3: 评价权重可以修改吗？
A: 可以，但修改后会影响新计算的综合评分，已计算的评分不会改变。

### Q4: 系统配置修改后立即生效吗？
A: 是的，系统配置修改后立即生效。

### Q5: 如何批量导入班级？
A: 可以通过Excel批量导入，需要提供班级代码、名称、所属专业等信息。

## 十、注意事项

1. **数据层级**：学校→学院→专业→班级，删除上级数据前要先处理下级数据。
2. **唯一性**：学校代码、学院代码、专业代码、班级代码要唯一。
3. **当前学期**：系统只能有一个当前学期，设置新当前学期时会自动取消旧的。
4. **配置谨慎**：系统配置修改要谨慎，特别是评价权重等关键配置。
5. **数据备份**：修改重要数据前建议先备份。

